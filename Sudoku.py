### Sudoku
import pprint
from pprint import *

Z = [[1,"_","_","_","_","_","_","_","_"],["_",2,"_","_","_","_","_","_","_"],["_","_",3,"_","_","_","_","_","_"],["_","_","_",4,"_","_","_","_","_"],["_","_","_","_",5,"_","_","_","_"],["_","_","_","_","_",6,"_","_","_"],["_","_","_","_","_","_",7,"_","_"],["_","_","_","_","_","_","_",8,"_"],["_","_","_","_","_","_","_","_",9]]
S = [[1,"_","_","_","_","_","_","_","_"],["_",2,"_","_","_","_","_","_","_"],["_","_",3,"_","_","_","_","_","_"],["_","_","_",4,"_","_","_","_","_"],["_","_","_","_",5,"_","_","_","_"],["_","_","_","_","_",6,"_","_","_"],["_","_","_","_","_","_",7,"_","_"],["_","_","_","_","_","_","_",8,"_"],["_","_","_","_","_","_","_","_",9]]
K11 = [Z[i][j] for i in range(0,3) for j in range(0,3)]
K12 = [Z[i][j] for i in range(0,3) for j in range(3,6)]
K13 = [Z[i][j] for i in range(0,3) for j in range(6,9)]
K21 = [Z[i][j] for i in range(3,6) for j in range(0,3)]
K22 = [Z[i][j] for i in range(3,6) for j in range(3,6)]
K23 = [Z[i][j] for i in range(3,6) for j in range(6,9)]
K31 = [Z[i][j] for i in range(6,9) for j in range(0,3)]
K32 = [Z[i][j] for i in range(6,9) for j in range(3,6)]
K33 = [Z[i][j] for i in range(6,9) for j in range(6,9)]

K = [K11,K12,K13,K21,K22,K23,31,K32,K33]
KD = {(1,1):K11, (1,2):K12, (1,3):K13, (2,1):K21, (2,2):K22, (2,3):K23, (3,1):K31, (3,2):K32, (3,3):K33}


C11 = K11.copy()
C12 = K12.copy()
C13 = K13.copy()
C21 = K21.copy()
C22 = K22.copy()
C23 = K23.copy()
C31 = K31.copy()
C32 = K32.copy()
C33 = K33.copy()

Z2 = Z.copy()
S2 = S.copy()
KD2 = {(1,1):C11, (1,2):C12, (1,3):C13, (2,1):C21, (2,2):C22, (2,3):C23, (3,1):C31, (3,2):C32, (3,3):C33}


for i in range(9):
    for j in range(9):
        if Z2[i][j]!="_":
            continue
        else:
            h = []
            for k in range(10):
                if k not in Z2[i] and k not in S2[j] and k not in KD2[((i%3)+1,(j%3)+1)]:
                    h.append(k)
                else:
                    continue
            if len(h)==1:
                Z2[i][j]=h[0]
                S2[j][i]=h[0]
                KD2[((i%3)+1,(j%3)+1)].append(h[0])
            else:
                continue
            
pprint(Z2)
